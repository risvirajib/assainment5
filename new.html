<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Hotline Directory</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* কিছু base styling */
        * { margin:0; padding:0; box-sizing:border-box; font-family: Arial, sans-serif; }

        body {
            background:#f3f4f6;
            color:#1f2937;
        }

        /* Navbar */
        .navbar {
            display:flex; justify-content:space-between; align-items:center;
            padding:10px 20px; background:#fff; box-shadow:0 2px 6px rgba(0,0,0,0.1);
            position:sticky; top:0;
        }
        .logo { display:flex; align-items:center; gap:8px; font-weight:bold; font-size:1.2rem; color:#2563eb; }
        .logo img { height:40px; }
        .nav-items { display:flex; gap:20px; }
        .nav-item { display:flex; align-items:center; gap:6px; font-weight:600; }

        /* Hero Section */
        .hero {
            background:linear-gradient(135deg,#1e40af,#2563eb);
            color:#fff; text-align:center; padding:50px 20px;
        }
        .hero img { width:70px; }
        .hero h1 { font-size:2.2rem; margin-top:15px; }
        .hero p { opacity:0.9; margin-top:8px; }

        /* Layout */
        .main { max-width:1200px; margin:20px auto; display:grid; grid-template-columns:2fr 1fr; gap:20px; padding:0 15px; }

        .card {
            background:#fff; border-radius:10px; border:1px solid #e5e7eb;
            box-shadow:0 4px 10px rgba(0,0,0,0.05);
            overflow:hidden; transition:.2s;
        }
        .card:hover { transform:translateY(-4px); }

        .card-header {
            display:flex; align-items:center; gap:12px; padding:15px; border-bottom:1px solid #eee;
        }
        .card-header img { width:32px; height:32px; }
        .card-info { flex:1; }
        .card-name { font-weight:700; }
        .card-number { font-weight:600; color:#2563eb; margin-top:5px; }

        .card-footer { display:flex; gap:10px; padding:15px; border-top:1px solid #eee; }
        .card-btn {
            flex:1; border:none; border-radius:6px; padding:8px 12px;
            font-weight:600; cursor:pointer; display:flex; align-items:center; gap:6px;
            justify-content:center; transition:0.2s;
        }
        .btn-copy { background:#f9fafb; border:1px solid #ddd; }
        .btn-copy:hover { background:#f1f5f9; }
        .btn-call { background:#059669; color:#fff; }
        .btn-call:hover { background:#047857; }

        /* History */
        .history {
            background:#fff; padding:15px; border-radius:10px; border:1px solid #ddd;
        }
        .history h2 { font-size:1.2rem; margin-bottom:10px; display:flex; align-items:center; gap:6px; }
        .history-list { display:flex; flex-direction:column; gap:10px; }
        .history-item { background:#f8fafc; padding:10px; border-radius:6px; display:flex; justify-content:space-between; }

        /* Notification bar */
        .notify {
            position:fixed; bottom:15px; right:15px; background:#2563eb; color:#fff;
            padding:10px 20px; border-radius:6px; display:none;
        }

        @media(max-width:900px){
            .main{ grid-template-columns:1fr; }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="logo">
            <img src="https://img.icons8.com/color/48/ambulance.png">
            <span>Emergency Directory</span>
        </div>
        <div class="nav-items">
            <div class="nav-item"><i class="fas fa-heart"></i><span id="heart-count">100</span></div>
            <div class="nav-item"><i class="fas fa-coins"></i><span id="coin-count">100</span></div>
            <div class="nav-item"><i class="fas fa-copy"></i><span id="copy-count">0</span></div>
        </div>
    </nav>

    <!-- Hero -->
    <section class="hero">
        <img src="https://img.icons8.com/color/96/emergency.png">
        <h1>Emergency Hotline Directory</h1>
        <p>Quick access to vital services when every second matters</p>
    </section>

    <!-- Main -->
    <div class="main">
        <!-- Service cards -->
        <section id="service-cards"></section>

        <!-- History -->
        <section class="history">
            <h2><i class="fas fa-history"></i> Call History</h2>
            <button id="clear-history" style="margin-bottom:10px;">Clear</button>
            <div class="history-list" id="history-list">
                <p style="font-style:italic;color:#6b7280;">No calls yet</p>
            </div>
        </section>
    </div>

    <!-- Notification -->
    <div class="notify" id="notify"></div>

    <script>
        // Example services data (could be fetched from server in real life)
        const hotlines = [
            {id:1, name:"Ambulance Service", en:"Medical", number:"199", icon:"ambulance.png"},
            {id:2, name:"Fire Department", en:"Fire", number:"198", icon:"fire-service.png"},
            {id:3, name:"Police Emergency", en:"Police", number:"197", icon:"police.png"},
            {id:4, name:"Coast Guard", en:"Maritime", number:"196", icon:"emergency.png"},
        ];

        // State
        let favHearts = 100, myCoins = 100, copyTimes = 0;
        let historyData = [];

        const cardContainer = document.getElementById("service-cards");
        const historyBox = document.getElementById("history-list");
        const notifyBar = document.getElementById("notify");

        // Init
        function startApp(){
            showServiceCards();
            loadHistory();
            refreshCounts();
        }

        // Create cards
        function showServiceCards(){
            cardContainer.innerHTML = "";
            hotlines.forEach(svc=>{
                const div = document.createElement("div");
                div.className = "card";
                div.innerHTML = `
                    <div class="card-header">
                        <img src="${svc.icon}" alt="">
                        <div class="card-info">
                            <div class="card-name">${svc.name}</div>
                            <div class="card-number">${svc.number}</div>
                        </div>
                        <i class="fas fa-heart heart-btn" data-id="${svc.id}"></i>
                    </div>
                    <div class="card-footer">
                        <button class="card-btn btn-copy" data-num="${svc.number}"><i class="fas fa-copy"></i> Copy</button>
                        <button class="card-btn btn-call" data-id="${svc.id}" data-name="${svc.name}" data-num="${svc.number}"><i class="fas fa-phone"></i> Call</button>
                    </div>
                `;
                cardContainer.appendChild(div);
            });
            bindEvents();
        }

        // Events binding
        function bindEvents(){
            document.querySelectorAll(".btn-copy").forEach(b=>{
                b.onclick = ()=> copyPhone(b.dataset.num);
            });
            document.querySelectorAll(".btn-call").forEach(b=>{
                b.onclick = ()=> makePhoneCall(b.dataset.name, b.dataset.num);
            });
            document.querySelectorAll(".heart-btn").forEach(h=>{
                h.onclick = ()=>{
                    h.classList.toggle("active");
                    favHearts += h.classList.contains("active") ? 1 : -1;
                    refreshCounts();
                }
            });
        }

        // Copy number
        function copyPhone(num){
            navigator.clipboard.writeText(num).then(()=>{
                copyTimes++;
                showMsg("Copied: " + num);
                refreshCounts();
            });
        }

        // Call service
        function makePhoneCall(name,num){
            if(myCoins < 20){ showMsg("Not enough coins!"); return; }
            myCoins -= 20;
            const t = new Date().toLocaleTimeString();
            addHistory(name,num,t);
            showMsg("Calling " + name + " ...");
            refreshCounts();
        }

        // Add history
        function addHistory(name,num,time){
            historyData.push({name,num,time});
            saveHistory();
            renderHistory();
        }

        function renderHistory(){
            if(historyData.length===0){
                historyBox.innerHTML = "<p style='font-style:italic;color:#6b7280;'>No calls yet</p>";
                return;
            }
            historyBox.innerHTML="";
            historyData.forEach(item=>{
                const div = document.createElement("div");
                div.className="history-item";
                div.innerHTML = `<span>${item.name} (${item.num})</span><span>${item.time}</span>`;
                historyBox.appendChild(div);
            });
        }

        function saveHistory(){ localStorage.setItem("calls",JSON.stringify(historyData)); }
        function loadHistory(){
            const data = localStorage.getItem("calls");
            if(data) { historyData = JSON.parse(data); renderHistory(); }
        }

        // UI helpers
        function refreshCounts(){
            document.getElementById("heart-count").textContent=favHearts;
            document.getElementById("coin-count").textContent=myCoins;
            document.getElementById("copy-count").textContent=copyTimes;
        }

        function showMsg(txt){
            notifyBar.textContent = txt;
            notifyBar.style.display="block";
            setTimeout(()=>{ notifyBar.style.display="none"; },2000);
        }

        // Clear history
        document.getElementById("clear-history").onclick=()=>{
            historyData=[]; saveHistory(); renderHistory();
        };

        // Run app
        startApp();
    </script>
</body>
</html>
